pipeline {
    agent any

    environment {
        DAGGER_BIN_PATH = "/var/lib/jenkins/.dagger/bin"  // Path to the installed Dagger binary
        PATH = "$DAGGER_BIN_PATH:$PATH"  // Update the PATH to include Dagger binary
    }

    stages {
        stage('Install Dagger') {
            steps {
                script {
                    // Install Dagger if not already installed
                    sh '''#!/bin/bash
                    curl -fsSL https://dl.dagger.io/dagger/install.sh | bash
                    '''
                }
            }
        }

        stage('Verify Dagger Installation') {
            steps {
                script {
                    // Check if Dagger is installed correctly
                    sh 'dagger version'
                }
            }
        }

        stage('Git Checkout') {
            steps {
                script {
                    // Run Dagger command
                    sh 'dagger run gitCheckout'
                }
            }
        }

        // Other stages as needed...

    }
}
